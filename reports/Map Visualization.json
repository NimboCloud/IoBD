{"paragraphs":[{"text":"import org.apache.commons.io.IOUtils\r\nimport java.net.URL\r\nimport java.nio.charset.Charset\r\n\r\n// load map data\r\nval myMapText = sc.parallelize(\r\n  IOUtils.toString(\r\n      new URL(\"https://gist.githubusercontent.com/Madhuka/74cb9a6577c87aa7d2fd/raw/2f758d33d28ddc01c162293ad45dc16be2806a6b/data.csv?raw=true\"),\r\n      Charset.forName(\"utf8\")).split(\"\\n\"))\r\n      \r\n// load bank data\r\nval bankText = sc.parallelize(\r\n    IOUtils.toString(\r\n        new URL(\"https://s3.amazonaws.com/apache-zeppelin/tutorial/bank/bank.csv\"),\r\n        Charset.forName(\"utf8\")).split(\"\\n\"))\r\n      ","dateUpdated":"Jun 23, 2016 3:10:36 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1466691083942_1970818835","id":"20160623-141123_1748918503","result":{"code":"SUCCESS","type":"TEXT","msg":"import org.apache.commons.io.IOUtils\nimport java.net.URL\nimport java.nio.charset.Charset\nmyMapText: org.apache.spark.rdd.RDD[String] = ParallelCollectionRDD[24] at parallelize at <console>:64\nbankText: org.apache.spark.rdd.RDD[String] = ParallelCollectionRDD[25] at parallelize at <console>:64\n"},"dateCreated":"Jun 23, 2016 2:11:23 PM","dateStarted":"Jun 23, 2016 3:10:36 PM","dateFinished":"Jun 23, 2016 3:10:37 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:312"},{"text":"case class Bank(age: Integer, job: String, marital: String, education: String, balance: Integer)\r\n\r\nval bank = bankText.map(s => s.split(\";\")).filter(s => s(0) != \"\\\"age\\\"\").map(\r\n    s => Bank(s(0).toInt, \r\n            s(1).replaceAll(\"\\\"\", \"\"),\r\n            s(2).replaceAll(\"\\\"\", \"\"),\r\n            s(3).replaceAll(\"\\\"\", \"\"),\r\n            s(5).replaceAll(\"\\\"\", \"\").toInt\r\n        )\r\n).toDF()\r\nbank.registerTempTable(\"bank\")\r\n\r\ncase class Map(Country:String, Name:String, lat : Float, lan : Float, Altitude : Float)\r\n \r\nval myMap = myMapText.map(s => s.split(\",\")).filter(s=>s(0)!=\"Country\").map(\r\n     s=>Map(s(0), \r\n             s(1),\r\n             s(2).toFloat,\r\n             s(3).toFloat,\r\n             s(4).toFloat\r\n         )\r\n).toDF()\r\n\r\nmyMap.registerTempTable(\"myMap\") ","dateUpdated":"Jun 23, 2016 3:10:36 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1466691163249_1934022503","id":"20160623-141243_560396607","result":{"code":"SUCCESS","type":"TEXT","msg":"defined class Bank\nbank: org.apache.spark.sql.DataFrame = [age: int, job: string, marital: string, education: string, balance: int]\ndefined class Map\nmyMap: org.apache.spark.sql.DataFrame = [Country: string, Name: string, lat: float, lan: float, Altitude: float]\n"},"dateCreated":"Jun 23, 2016 2:12:43 PM","dateStarted":"Jun 23, 2016 3:10:37 PM","dateFinished":"Jun 23, 2016 3:10:40 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:313"},{"text":"%sql \nselect age, count(1) value\nfrom bank \nwhere age < 30 \ngroup by age \norder by age\n","dateUpdated":"Jun 23, 2016 4:52:42 PM","config":{"colWidth":6,"graph":{"mode":"stackedAreaChart","height":268,"optionOpen":false,"keys":[{"name":"age","index":0,"aggr":"sum"}],"values":[{"name":"value","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"age","index":0,"aggr":"sum"},"yAxis":{"name":"value","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1466691219218_497446731","id":"20160623-141339_1423579300","result":{"code":"SUCCESS","type":"TABLE","msg":"age\tvalue\n19\t4\n20\t3\n21\t7\n22\t9\n23\t20\n24\t24\n25\t44\n26\t77\n27\t94\n28\t103\n29\t97\n","comment":"","msgTable":[[{"key":"value","value":"19"},{"key":"value","value":"4"}],[{"value":"20"},{"value":"3"}],[{"value":"21"},{"value":"7"}],[{"value":"22"},{"value":"9"}],[{"value":"23"},{"value":"20"}],[{"value":"24"},{"value":"24"}],[{"value":"25"},{"value":"44"}],[{"value":"26"},{"value":"77"}],[{"value":"27"},{"value":"94"}],[{"value":"28"},{"value":"103"}],[{"value":"29"},{"value":"97"}]],"columnNames":[{"name":"age","index":0,"aggr":"sum"},{"name":"value","index":1,"aggr":"sum"}],"rows":[["19","4"],["20","3"],["21","7"],["22","9"],["23","20"],["24","24"],["25","44"],["26","77"],["27","94"],["28","103"],["29","97"]]},"dateCreated":"Jun 23, 2016 2:13:39 PM","dateStarted":"Jun 23, 2016 3:12:04 PM","dateFinished":"Jun 23, 2016 3:12:18 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:314"},{"text":"%sql \r\nselect *\r\nfrom myMap \r\nwhere Altitude > 1000\r\n","dateUpdated":"Jun 23, 2016 4:53:07 PM","config":{"colWidth":5,"graph":{"mode":"table","height":298,"optionOpen":false,"keys":[{"name":"Country","index":0,"aggr":"sum"}],"values":[{"name":"Name","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"Country","index":0,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{"Country":"United States"},"forms":{}},"jobName":"paragraph_1466694636699_397251076","id":"20160623-151036_1421714705","result":{"code":"SUCCESS","type":"TABLE","msg":"Country\tName\tlat\tlan\tAltitude\nUnited States\tEl Paso\t31.75872\t-106.48693\t1147.0\nUnited States\tDenver\t39.739155\t-104.9847\t1598.0\nUnited States\tAlbuquerque\t35.08449\t-106.65114\t1510.0\nUnited States\tColorado Springs\t38.83388\t-104.821365\t1829.0\nUnited States\tAurora\t39.72943\t-104.83192\t1647.0\n","comment":"","msgTable":[[{"key":"Name","value":"United States"},{"key":"Name","value":"El Paso"},{"key":"Name","value":"31.75872"},{"key":"Name","value":"-106.48693"},{"key":"Name","value":"1147.0"}],[{"key":"lat","value":"United States"},{"key":"lat","value":"Denver"},{"key":"lat","value":"39.739155"},{"key":"lat","value":"-104.9847"},{"key":"lat","value":"1598.0"}],[{"key":"lan","value":"United States"},{"key":"lan","value":"Albuquerque"},{"key":"lan","value":"35.08449"},{"key":"lan","value":"-106.65114"},{"key":"lan","value":"1510.0"}],[{"key":"Altitude","value":"United States"},{"key":"Altitude","value":"Colorado Springs"},{"key":"Altitude","value":"38.83388"},{"key":"Altitude","value":"-104.821365"},{"key":"Altitude","value":"1829.0"}],[{"value":"United States"},{"value":"Aurora"},{"value":"39.72943"},{"value":"-104.83192"},{"value":"1647.0"}]],"columnNames":[{"name":"Country","index":0,"aggr":"sum"},{"name":"Name","index":1,"aggr":"sum"},{"name":"lat","index":2,"aggr":"sum"},{"name":"lan","index":3,"aggr":"sum"},{"name":"Altitude","index":4,"aggr":"sum"}],"rows":[["United States","El Paso","31.75872","-106.48693","1147.0"],["United States","Denver","39.739155","-104.9847","1598.0"],["United States","Albuquerque","35.08449","-106.65114","1510.0"],["United States","Colorado Springs","38.83388","-104.821365","1829.0"],["United States","Aurora","39.72943","-104.83192","1647.0"]]},"dateCreated":"Jun 23, 2016 3:10:36 PM","dateStarted":"Jun 23, 2016 4:52:07 PM","dateFinished":"Jun 23, 2016 4:52:15 PM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:315"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1466694831730_1959840597","id":"20160623-151351_1465607282","dateCreated":"Jun 23, 2016 3:13:51 PM","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:316"}],"name":"Map Visualization","id":"2BNMQ6P1X","angularObjects":{"2B44YVSN1":[],"2AJXGMUUJ":[],"2AK8P7CPX":[],"2AM1YV5CU":[],"2AKK3QQXU":[],"2ANGGHHMQ":[]},"config":{"looknfeel":"default"},"info":{}}